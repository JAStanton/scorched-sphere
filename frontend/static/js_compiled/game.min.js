'use strict';var e=document.getElementById("board");var f={};
function g(a){var b=_.chain(arguments).toArray().rest().flatten().value(),c=a.prototype||a,d={};_(b).each(function(a){_.isString(a)&&(a=f.w[a]);_(a).each(function(a,b){_.isFunction(a)?c[b]!==a&&(c[b]&&(d[b]=d.hasOwnProperty(b)?d[b]:[c[b]],d[b].push(a)),c[b]=a):_.isArray(a)?c[b]=_.union(a,c[b]||[]):_.isObject(a)?c[b]=_.extend({},a,c[b]||{}):b in c||(c[b]=a)})});_(d).each(function(a,b){c[b]=function(){var b=this,c=arguments,d;_(a).each(function(a){a=_.isFunction(a)?a.apply(b,c):a;d="undefined"===typeof a?
d:a});return d}})};function h(){if(h.prototype.d)return h.prototype.d;h.prototype.d=this;this.c={};window.addEventListener("keyup",this.q.bind(this),!1);window.addEventListener("keydown",this.p.bind(this),!1)}h.prototype.p=function(a){this.c[a.keyCode]=!0};h.prototype.q=function(a){delete this.c[a.keyCode]};function k(){}k.prototype.update=function(){this.e||(this.e=new h);if(this.e.c[39]){var a=this.b;a.h=l(a)+5;m(this,a)}this.e.c[37]&&(a=this.b,a.h=l(a)-5,m(this,a));this.e.c[38]&&(a=this.b,a.i=n(a)-5,m(this,a));this.e.c[40]&&(a=this.b,a.i=n(a)+5,m(this,a))};function p(a,b){this.h=a||0;this.i=b||0}function l(a,b){var c=a.h;b&&(c+=b);return c}function n(a,b){var c=a.i;b&&(c+=b);return c};function q(){if(q.prototype.d)return q.prototype.d;q.prototype.d=this;this.b=new p}q.prototype.update=function(){};function r(a,b){this.t=a||0;this.o=b||0};function s(){this.b=new p;this.background="";this.s=1;this.r=0;this.k=new p;this.g=new r;this.j="entity-"+t++;this.a=document.createElement("span");this.a.id=this.j;this.a.classList.add("entity")}var t=0;s.prototype.update=function(){};
function m(a,b){a.b=b;var c="rotate("+a.r+"deg) scale("+a.s+") skewX("+l(a.k,"deg")+") skewY("+n(a.k,"deg")+") translate("+l(a.b,"px")+", "+n(a.b,"px")+")";a.a.style.webkitTransform=c;a.a.style.MozTransform=c;a.a.style.msTransform=c;a.a.style.u=c;a.a.style.transform=c};function u(){u.l(this,"constructor");this.a.classList.add(v);g(this,k.prototype)}(function(a,b){function c(){}c.prototype=b.prototype;a.A=b.prototype;a.prototype=new c;a.l=function(a,c,x){b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}})(u,s);var v="player";function w(){this.f=new u;this.m=new q;this.n=e;var a=this.f,b=new r(100,100),c={},d;for(d in b)c[d]=b[d];a.g=c;b=a.g.t;a.a.style.width=b+"px";b=a.g.o;a.a.style.height=b+"px";m(this.f,new p(100,100));this.f.a.style.background="white";a=this.f;b=this.n;document.getElementById(a.j)?console.warn("Attempted to attach dom element multiple times:",a.v):b.appendChild(a.a);this.update()}w.prototype.update=function(){window.requestAnimationFrame(this.update.bind(this));this.f.update();this.m.update()};new w;
